# TrendPulse 舆情脉冲

## 测试任务概述

**一句话描述**：输入一个关键词，系统自动去 X/Reddit/YouTube 抓取最新数据，并生成一份 AI 舆情分析报告。

**场景示例**：

> 我想知道今天大家怎么评价 "DeepSeek" 这款模型：
>
> 1. 输入 "DeepSeek"
> 2. 系统自动抓取 Reddit 的讨论帖、YouTube 测评博主的视频字幕
> 3. AI 告诉我：大家都在夸它的代码能力，但吐槽推理速度慢
> 4. App 上显示情感得分为 85 分

## 考核周期与资源

| 项目       | 说明                                            |
| ---------- | ----------------------------------------------- |
| 开发周期   | 5-7 天                                          |
| 提供资源   | 大模型 API（将单独发送）、Kiro Pro 开发工具授权 |
| 技术栈要求 | Python (后端采集+AI) + Flutter (前端可视化)     |

## 功能需求

### 一、多源采集引擎 (Python) 【必做】

**输入参数**：

- 关键词 (e.g., "iPhone 16")
- 语言 (en/zh)
- 条数限制 (e.g., 50条)

**数据源要求（三选二，三者全做加分）**：

| 平台        | 采集内容                                     | 难度 |
| ----------- | -------------------------------------------- | ---- |
| Reddit      | 特定 Subreddit 或搜索结果的讨论帖            | ⭐⭐   |
| YouTube     | 搜索排名前几的视频信息 + 视频字幕/Transcript | ⭐⭐⭐  |
| X (Twitter) | 搜索结果的推文内容                           | ⭐⭐⭐⭐ |

**输出**：将原始数据清洗后存入数据库 (SQLite/PostgreSQL)

**技术提示**：

- 允许使用开源库（如 praw, youtube-transcript-api 等）
- X 平台难度较高，允许使用 Nitter 镜像站或无头浏览器方案
- 如果某平台实在无法采集，请在文档中说明你尝试过的方案

### 二、AI 智能分析模块 (LLM) 【必做】

对采集到的非结构化文本进行链式处理：

| 功能     | 说明                                 |
| -------- | ------------------------------------ |
| 情感打分 | 0-100 分（0=极度负面，100=极度正面） |
| 观点聚类 | 总结出大众讨论的 3 个主要争议点      |
| 摘要生成 | 将大量评论总结为一段易读的"人话"摘要 |

**技术要求**：

- 使用我们提供的大模型 API
- 需要考虑 Token 成本控制（长文本如何高效处理）
- 需要处理脏数据（广告、垃圾评论、乱码）

### 三、可视化终端 (Flutter) 【必做】

**仪表盘页**：

- 舆情热度指标（根据采集数量和互动数计算）
- 情感倾向展示（红绿进度条或仪表盘）
- 3 个核心观点卡片

**源数据流页**：

- 以列表形式展示抓取到的原始帖子
- 点击可跳转原文链接

### 四、进阶挑战 【加分项】

| 功能     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 定时任务 | 用户订阅关键词，系统每 6 小时自动采集，负面舆情（分数<30）自动报警 |
| 思维导图 | 将观点生成为 Mermaid 格式的思维导图并渲染                    |
| 反爬文档 | 详细说明你是如何绕过平台限制的（IP 轮询、Header 伪造等）     |

## 交付物清单

### 必须提交

| 序号 | 交付物                        | 要求                                               |
| ---- | ----------------------------- | -------------------------------------------------- |
| 1    | GitHub 仓库                   | 代码结构清晰，包含 README                          |
| 2    | [README.md](http://README.md) | 包含：项目介绍、架构图、本地运行步骤、API 文档     |
| 3    | 演示视频                      | 3-5 分钟，展示完整功能流程                         |
| 4    | 技术文档                      | 说明采集策略、AI Prompt 设计、遇到的问题及解决方案 |

### 代码规范要求

- Python 代码需有类型注解
- 关键函数需有 docstring
- 敏感信息（API Key）使用环境变量，不得硬编码
- 提供 requirements.txt 或 pyproject.toml

## 评分标准 (总分 100)

| 模块         | 分值  | 评分细则                                                     |
| ------------ | ----- | ------------------------------------------------------------ |
| 数据采集     | 30 分 | 成功采集 2 个平台 (20分)，3 个平台 (30分)；数据质量、去重处理 |
| AI 分析      | 25 分 | 情感分析准确性、观点聚类合理性、Prompt 设计质量、Token 成本控制 |
| Flutter 前端 | 20 分 | UI 美观度、交互流畅性、数据展示清晰度                        |
| 工程质量     | 15 分 | 代码规范、错误处理、日志记录、文档完整性                     |
| 创新加分     | 10 分 | 定时任务、思维导图、反爬策略文档、其他创新功能               |

### 评分等级

| 等级 | 分数  | 说明                             |
| ---- | ----- | -------------------------------- |
| A    | 85+   | 超出预期，具备独立负责项目的能力 |
| B    | 70-84 | 达到预期，核心功能完整           |
| C    | 60-69 | 基本完成，但有明显不足           |
| D    | <60   | 未达标                           |

## 技术建议

### 推荐技术栈

**后端采集**：

- Python 3.10+
- asyncio / aiohttp (并发采集)
- praw (Reddit API)
- youtube-transcript-api (YouTube 字幕)
- Playwright / Selenium (X 平台)
- SQLite / PostgreSQL (数据存储)

**AI 分析**：

- 使用提供的大模型 API
- LangChain (可选，用于链式处理)
- 考虑 Map-Reduce 模式处理长文本

**前端展示**：

- Flutter 3.x
- fl_chart (图表库)
- Provider / Riverpod (状态管理)

### 常见问题提示

1. **YouTube 字幕是核心数据源**：视频字幕包含大量有价值的观点，务必实现
2. **Token 成本控制**：长文本直接发送会很贵，考虑分段处理或预提取关键句
3. **脏数据处理**：采集数据中会有广告、机器人内容，需要在 AI 分析前过滤
4. **API Key 安全**：绝对不要将 API Key 提交到 Git 仓库

## 提交方式

1. github public repository url
2. 演示视频
3. 截止时间：20260118

## 联系支持

如在开发过程中遇到以下问题，可联系我们：

- API Key 无法使用
- Kiro Pro 授权问题
- 需求理解有歧义

**联系方式**：飞书